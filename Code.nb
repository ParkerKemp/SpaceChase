(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     11186,        328]
NotebookOptionsPosition[      9758,        274]
NotebookOutlinePosition[     10287,        297]
CellTagsIndexPosition[     10202,        292]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"playerLocation", ",", "windowSize"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"playerLocation", "=", 
   RowBox[{"{", 
    RowBox[{"350", ",", "350"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"playerSpeed", "=", "40"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"windowSize", "=", 
   RowBox[{"{", 
    RowBox[{"700", ",", "700"}], "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.6054499137267847`*^9, 3.6054499878869467`*^9}, {
   3.605450024342442*^9, 3.6054500761718082`*^9}, 3.6054509358587847`*^9, {
   3.605452687607225*^9, 3.6054527031042547`*^9}, {3.605452753641234*^9, 
   3.605452753769678*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"gameLoop", "[", "]"}], ":=", 
  RowBox[{"DynamicModule", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"done", "=", "False"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Show", "[", 
     RowBox[{"drawPlayer", "[", "]"}], "]"}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.605450181177966*^9, 3.605450282026291*^9}, {
  3.605450318524074*^9, 3.605450319794036*^9}, {3.605450812358927*^9, 
  3.6054508130574303`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"drawPlayer", "[", "]"}], ":=", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Return", "[", 
     RowBox[{"Graphics", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"PointSize", "[", "Large", "]"}], ",", "Orange", ",", 
         RowBox[{"Point", "[", 
          RowBox[{"Dynamic", "[", "playerLocation", "]"}], "]"}]}], "}"}], 
       ",", 
       RowBox[{"PlotRange", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", 
            RowBox[{"windowSize", "[", 
             RowBox[{"[", "1", "]"}], "]"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"0", ",", 
            RowBox[{"windowSize", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], "}"}]}], "}"}]}]}], "]"}], 
     "]"}]}], "\[IndentingNewLine]", "]"}]}]], "Input",
 CellChangeTimes->{{3.605450085757379*^9, 3.6054500955389013`*^9}, {
   3.605450143631599*^9, 3.605450177215872*^9}, {3.605450294637021*^9, 
   3.6054502974754143`*^9}, {3.605450799891199*^9, 3.605450926097507*^9}, {
   3.605452420320128*^9, 3.605452446502653*^9}, {3.6054525093381147`*^9, 
   3.6054525280003357`*^9}, 3.60545269661049*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gameLoop", "[", "]"}]], "Input",
 CellChangeTimes->{{3.605450212287669*^9, 3.605450214643045*^9}}],

Cell[BoxData[
 GraphicsBox[
  {RGBColor[1, 0.5, 0], PointSize[Large], 
   PointBox[Dynamic[$CellContext`playerLocation]]},
  Axes->True]], "Output",
 CellChangeTimes->{
  3.605450323792818*^9, {3.605450827748444*^9, 3.60545086799921*^9}, {
   3.605450906429738*^9, 3.605450928399466*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Print", "[", 
  RowBox[{"Dynamic", "[", 
   RowBox[{"CurrentValue", "[", "\"\<EventKey\>\"", "]"}], "]"}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.605451273873214*^9, 3.605451308067595*^9}}],

Cell[BoxData[
 DynamicBox[ToBoxes[
   CurrentValue["EventKey"], StandardForm],
  ImageSizeCache->{29., {0., 7.}}]], "Print",
 CellChangeTimes->{3.605451308520813*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"test", "[", "]"}], ":=", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", "t", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Switch", "[", 
      RowBox[{
       RowBox[{"t", "=", 
        RowBox[{"CurrentValue", "[", "\"\<EventKey\>\"", "]"}]}], ",", 
       "\[IndentingNewLine]", "\"\<w\>\"", ",", 
       RowBox[{
        RowBox[{"playerLocation", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "+=", "playerSpeed"}], ",", 
       "\[IndentingNewLine]", "\"\<s\>\"", ",", 
       RowBox[{
        RowBox[{"playerLocation", "[", 
         RowBox[{"[", "2", "]"}], "]"}], " ", "-=", "playerSpeed"}], ",", 
       "\[IndentingNewLine]", "\"\<a\>\"", ",", 
       RowBox[{
        RowBox[{"playerLocation", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "-=", "playerSpeed"}], ",", 
       "\[IndentingNewLine]", "\"\<d\>\"", ",", 
       RowBox[{
        RowBox[{"playerLocation", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "+=", "playerSpeed"}], ",", 
       "\[IndentingNewLine]", "_", ",", 
       RowBox[{"Print", "[", "\"\<Nothing pressed\>\"", "]"}]}], 
      "\[IndentingNewLine]", "]"}], ";"}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.605451309498375*^9, 3.605451314513033*^9}, {
  3.605451500020934*^9, 3.605451535613082*^9}, {3.605451566449143*^9, 
  3.605451584967957*^9}, {3.605451653609571*^9, 3.6054516612787237`*^9}, {
  3.605451713117034*^9, 3.6054517328241*^9}, {3.605451893535787*^9, 
  3.605451927522016*^9}, {3.6054520058042*^9, 3.605452009009986*^9}, {
  3.605452274257626*^9, 3.605452278562305*^9}, {3.605452333835826*^9, 
  3.6054523561015882`*^9}, {3.605452388838861*^9, 3.6054524121905317`*^9}, {
  3.60545270721152*^9, 3.6054527202432003`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"test", "[", "]"}]], "Input",
 CellChangeTimes->{{3.605452010843145*^9, 3.6054520116499443`*^9}}],

Cell[BoxData[
 DynamicModuleBox[{$CellContext`t$$ = Dynamic[
   CurrentValue["EventKey"]]}, "Null",
  DynamicModuleValues:>{}]], "Output",
 CellChangeTimes->{3.605452024924634*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EventHandler", "[", 
  RowBox[{
   RowBox[{"InputField", "[", "]"}], ",", 
   RowBox[{"\"\<KeyDown\>\"", "\[RuleDelayed]", 
    RowBox[{"Print", "[", 
     RowBox[{"CurrentValue", "[", "\"\<EventKey\>\"", "]"}], "]"}]}]}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.60545211082791*^9, 3.605452110837134*^9}},
 FontWeight->"Plain"],

Cell[BoxData[
 TagBox[
  TagBox[
   DynamicModuleBox[{Typeset`i$$ = Null}, 
    InputFieldBox[Dynamic[Typeset`i$$]],
    DynamicModuleValues:>{}],
   InputField[
    Setting[#]]& ],
  EventHandlerTag[{"KeyDown" :> Print[
      CurrentValue["EventKey"]], PassEventsDown -> Automatic, PassEventsUp -> 
    True}]]], "Output",
 CellChangeTimes->{3.605452112508218*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EventHandler", "[", 
  RowBox[{
   RowBox[{"gameLoop", "[", "]"}], ",", 
   RowBox[{"\"\<KeyDown\>\"", "\[RuleDelayed]", 
    RowBox[{"test", "[", "]"}]}]}], "]"}]], "Input",
 CellChangeTimes->{{3.605452118892638*^9, 3.6054521368663607`*^9}, {
  3.605452225141595*^9, 3.605452229249445*^9}, {3.6054522668581247`*^9, 
  3.605452267709352*^9}}],

Cell[BoxData[
 TagBox[
  GraphicsBox[
   {RGBColor[1, 0.5, 0], PointSize[Large], 
    PointBox[Dynamic[$CellContext`playerLocation]]},
   PlotRange->{{0, 700}, {0, 700}}],
  EventHandlerTag[{
   "KeyDown" :> $CellContext`test[], PassEventsDown -> Automatic, 
    PassEventsUp -> True}]]], "Output",
 CellChangeTimes->{{3.605452120617485*^9, 3.605452137243679*^9}, 
   3.605452231818817*^9, 3.6054522827365913`*^9, 3.6054523585623493`*^9, {
   3.605452434555037*^9, 3.605452449278624*^9}, 3.6054525342366543`*^9, {
   3.6054527283418617`*^9, 3.605452756606957*^9}}]
}, Open  ]],

Cell[BoxData["ddd"], "Input",
 CellChangeTimes->{{3.605452756950411*^9, 3.60545275747263*^9}}],

Cell[BoxData["dd"], "Input",
 CellChangeTimes->{{3.6054527369187193`*^9, 3.6054527371122417`*^9}}],

Cell[BoxData["ww"], "Input",
 CellChangeTimes->{{3.60545243666463*^9, 3.6054524369091177`*^9}}],

Cell[BoxData["ww"], "Input",
 CellChangeTimes->{{3.605452359799513*^9, 3.6054523604518023`*^9}}],

Cell[BoxData["d"], "Input",
 CellChangeTimes->{3.605452234519432*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "EventHandler"}]], "Input",
 CellChangeTimes->{{3.605452148422147*^9, 3.605452150547452*^9}}],

Cell[BoxData[
 RowBox[{
  StyleBox["\<\"\\!\\(\\*RowBox[{\\\"EventHandler\\\", \\\"[\\\", \
RowBox[{StyleBox[\\\"expr\\\", \\\"TI\\\"], \\\",\\\", RowBox[{\\\"{\\\", \
RowBox[{RowBox[{SubscriptBox[StyleBox[\\\"event\\\", \\\"TI\\\"], StyleBox[\\\
\"1\\\", \\\"TR\\\"]], \\\":>\\\", SubscriptBox[StyleBox[\\\"action\\\", \
\\\"TI\\\"], StyleBox[\\\"1\\\", \\\"TR\\\"]]}], \\\",\\\", \
RowBox[{SubscriptBox[StyleBox[\\\"event\\\", \\\"TI\\\"], StyleBox[\\\"2\\\", \
\\\"TR\\\"]], \\\":>\\\", SubscriptBox[StyleBox[\\\"action\\\", \\\"TI\\\"], \
StyleBox[\\\"2\\\", \\\"TR\\\"]]}], \\\",\\\", StyleBox[\\\"\[Ellipsis]\\\", \
\\\"TR\\\"]}], \\\"}\\\"}]}], \\\"]\\\"}]\\) displays as \\!\\(\\*StyleBox[\\\
\"expr\\\", \\\"TI\\\"]\\), evaluating \
\\!\\(\\*SubscriptBox[StyleBox[\\\"action\\\", \\\"TI\\\"], \
StyleBox[\\\"i\\\", \\\"TI\\\"]]\\) whenever \
\\\"\\!\\(\\*SubscriptBox[\\nStyleBox[\\\"event\\\", \\\"TI\\\"], \
\\nStyleBox[\\\"i\\\", \\\"TI\\\"]]\\)\\\" occurs in connection with \
\\!\\(\\*StyleBox[\\\"expr\\\", \\\"TI\\\"]\\). \"\>", "MSG"], 
  "\[NonBreakingSpace]", 
  ButtonBox[
   StyleBox["\[RightSkeleton]", "SR"],
   Active->True,
   BaseStyle->"Link",
   ButtonData->"paclet:ref/EventHandler"]}]], "Print", "PrintUsage",
 CellChangeTimes->{3.605452151158113*^9},
 CellTags->"Info3605434150-6187030"]
}, Open  ]]
},
WindowSize->{740, 708},
WindowMargins->{{4, Automatic}, {Automatic, 4}},
ShowSelection->True,
FrontEndVersion->"9.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (January 25, \
2013)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "Info3605434150-6187030"->{
  Cell[8424, 247, 1318, 24, 58, "Print",
   CellTags->"Info3605434150-6187030"]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"Info3605434150-6187030", 10097, 286}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 721, 18, 80, "Input"],
Cell[1281, 40, 509, 12, 80, "Input"],
Cell[1793, 54, 1285, 31, 97, "Input"],
Cell[CellGroupData[{
Cell[3103, 89, 122, 2, 28, "Input"],
Cell[3228, 93, 288, 7, 372, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[3553, 105, 216, 5, 28, "Input"],
Cell[3772, 112, 166, 4, 21, "Print"]
}, Open  ]],
Cell[3953, 119, 1787, 38, 182, "Input"],
Cell[CellGroupData[{
Cell[5765, 161, 120, 2, 28, "Input"],
Cell[5888, 165, 180, 4, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[6105, 174, 353, 9, 28, "Input"],
Cell[6461, 185, 365, 11, 39, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[6863, 201, 366, 8, 28, "Input"],
Cell[7232, 211, 564, 12, 375, "Output"]
}, Open  ]],
Cell[7811, 226, 94, 1, 28, "Input"],
Cell[7908, 229, 98, 1, 28, "Input"],
Cell[8009, 232, 95, 1, 28, "Input"],
Cell[8107, 235, 96, 1, 28, "Input"],
Cell[8206, 238, 69, 1, 28, "Input"],
Cell[CellGroupData[{
Cell[8300, 243, 121, 2, 28, "Input"],
Cell[8424, 247, 1318, 24, 58, "Print",
 CellTags->"Info3605434150-6187030"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
